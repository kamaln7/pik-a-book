<div ng-controller="userMsgController">
	<a href="#" ng-hide="!inbox"> You have {{msgsLength}} new messages</a>
	<div ng-repeat="msg in msgs">
		<div class="chat row" ng-class="{'userMsg' : msg.user_id != 1}">
			<div class="col-sm-8">
				<img ng-src="{{ msg.photo || './user_icon.png' }}" class="user-icon col-sm-1" ng-class="{'userImg' : msg.user_id != 1}">
				{{msg.content}}
			</div>
			<span class="col-sm-2 time">{{msg.timestamp}}</span>
			<div class="col-sm-1">
				<a class="btn" ng-click="removeMsg(msg.id)">
					<span class="glyphicon glyphicon-trash"></span>
				</a>
			</div>
		</div>
	</div>
	<button class="btn btn-primary mbs" data-toggle="collapse" data-target="#msgForm">Write Request</button>
	<form name="msgForm" id="msgForm" class="collapse" novalidate ng-hide="msgFormSuccess">
		<div class="form-group">
			<textarea ng-hide="msgFormSuccess" class="form-control" name="msgContent" ng-model="msgContent" rows="3" placeholder="Enter your request" ng-minlength="1" ng-maxlength="2000" required></textarea>
		</div>
		<div>
			<div class="form-group text-right">
				<button class="btn btn-primary" ng-click="sendRequest()" ng-hide="msgForm.$invalid">Send</button>
			</div>
		</div>
	</form>
</div>
